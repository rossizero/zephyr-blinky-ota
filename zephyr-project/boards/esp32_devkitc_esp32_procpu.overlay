/ {
    leds {
        compatible = "gpio-leds";
        status_led: led_0 {
            gpios = <&gpio0 2 GPIO_ACTIVE_HIGH>;
            label = "Status LED";
        };
    };

    aliases {
        led0 = &status_led;
    };
};

/* Override the existing flash partitions for OTA */
&flash0 {
    /delete-node/ partitions;
    
    partitions {
        compatible = "fixed-partitions";
        #address-cells = <1>;
        #size-cells = <1>;

        /* Bootloader */
        boot_partition: partition@1000 {
            label = "mcuboot";
            reg = <0x00001000 0x0000F000>;
            read-only;
        };

        /* Primary application slot */
        slot0_partition: partition@10000 {
            label = "image_0";
            reg = <0x00010000 0x00100000>;
        };

        /* Secondary application slot for OTA updates */
        slot1_partition: partition@110000 {
            label = "image_1";
            reg = <0x00110000 0x00100000>;
        };

        /* Scratch area for MCUboot */
        scratch_partition: partition@210000 {
            label = "image-scratch";
            reg = <0x00210000 0x00040000>;
        };

        /* Storage for settings/NVS */
        storage_partition: partition@250000 {
            label = "storage";
            reg = <0x00250000 0x00006000>;
        };
    };
};