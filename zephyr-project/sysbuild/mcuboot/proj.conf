# sysbuild/mcuboot/prj.conf (Korrigierte Version)

# Basiskonfiguration
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SERIAL=n
CONFIG_BOOT_BANNER=y

# Flash-Konfiguration
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_STREAM_FLASH=y

# Log-Konfiguration (minimal)
CONFIG_LOG=y
CONFIG_LOG_MINIMAL=y

# Signatur-Prüfung aktivieren
CONFIG_BOOT_SIGNATURE_TYPE_RSA=y
CONFIG_BOOT_SIGNATURE_TYPE_RSA_LEN=2048
# Der EINZIGE, korrekte Schlüssel-Parameter.
# Der Pfad ist relativ zum Build-Verzeichnis von mcuboot.
CONFIG_BOOT_SIGNATURE_KEY_FILE="root-rsa-2048.pem"

# ESP32-spezifische Einstellungen, um Konflikte zu vermeiden
CONFIG_ESP32_ENABLE_COREDUMP_TO_FLASH=n
CONFIG_ESP_SPIRAM=n